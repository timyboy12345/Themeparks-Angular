<app-button link="../" *ngIf="park" buttonText="Terug naar {{ park.name }}"></app-button>

<app-card *ngIf="restaurants && restaurants.length > 0" cardTitle="Filteren">
  <div class="flex flex-col mb-2" *ngIf="parkService && parkService.supportsRideAreas">
    <label for="restaurantArea" class="mb-1">Themagebied</label>
    <select class="appearance-none outline-none focus:ring-3 ring-indigo-700 ring-opacity-40 border-gray-300 border rounded bg-white text-gray-900" id="restaurantArea" [(ngModel)]="restaurantArea">
      <option value="">Alle themagebieden</option>
      <option *ngFor="let area of areas" [value]="area">{{ area }}</option>
    </select>
  </div>

  <div class="flex flex-col mb-2" *ngIf="parkService && parkService.supportsRestaurantOpeningTimes">
    <label for="openingTimes" class="mb-1">Openingstijden</label>
    <select class="appearance-none outline-none focus:ring-3 ring-indigo-700 ring-opacity-40 border-gray-300 border rounded bg-white text-gray-900" id="openingTimes" [(ngModel)]="openingTimes">
      <option value="all">Geen filter</option>
      <option value="open_today">Vandaag geopend</option>
    </select>
  </div>

  <div class="flex flex-col">
    <label for="displayType" class="mb-1">Weergave</label>
    <select (ngModelChange)="saveDisplayType($event)" class="appearance-none outline-none focus:ring-3 ring-indigo-700 ring-opacity-40 border-gray-300 border rounded bg-white text-gray-900" id="displayType" [(ngModel)]="displayType">
      <option value="cards">Kaarten</option>
      <option value="list">Lijst</option>
    </select>
  </div>
</app-card>

<div *ngIf="restaurants && restaurants.length > 0; else restaurantsLoading">
  <div *ngIf="displayType === 'cards'" class="flex flex-col md:flex-row flex-wrap -mx-4">
    <div *ngFor="let restaurant of selectedRestaurants" class="md:w-1/2 lg:w-1/3">
      <app-restaurant-card [restaurant]="restaurant"></app-restaurant-card>
    </div>
  </div>

  <app-card *ngIf="selectedRestaurants && displayType === 'list'" padding="p-0" cardClasses="flex flex-col my-4">
    <app-restaurant-list [restaurants]="selectedRestaurants"></app-restaurant-list>
  </app-card>
</div>

<ng-template #restaurantsLoading>
  <app-card *ngIf="restaurants == null" cardClasses="mt-8">
    <div class="text-lg text-indigo-800">Restaurants ophalen</div>
    <p class="text-gray-600">De restaurants worden geladen...</p>
  </app-card>

  <app-card *ngIf="restaurants && restaurants.length == 0" cardClasses="mt-8">
    <div class="text-lg text-indigo-800">Geen restaurants gevonden</div>
    <p class="text-gray-600">We konden geen restaurants ophalen</p>
  </app-card>
</ng-template>
